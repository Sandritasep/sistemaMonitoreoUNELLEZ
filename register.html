<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro - Transporte UNELLEZ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/register.css">
    <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
</head>
<body>

    <!-- Header -->
    <header>
        <div class="header-content">
            <div class="logo">
                <h1><i class="fas fa-bus"></i> Transporte UNELLEZ</h1>
            </div>
            <div class="user-section">
                <div id="headerUserInfo">
                    <button class="btn-login" onclick="redirigir()">
                        <i class="fas fa-sign-in-alt"></i> Iniciar Sesión
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- escaner QR carnet -->
    <div class="modal-base modal-qr" id="modal-qr">
        <div class="modal-container modal-container-qr">
            <div class="header-qr">
                <span class="fas fa-qrcode titulo-scanner">Escanee su Carnet</span>
                <span class="cerrar-qr">&times;</span>
            </div>
            
            <div class="scanner-container">
                <div id="reader" class="scanner-active"></div>
                <div class="scanner-instructions">
                    <p>Puede usar la camara para escanear el QR de su carnet, o subir una imagen de su carnet con el QR</p>
                </div>
            </div>
        </div>
    </div>

    <!-- modal exito -->
    <div class="modal-base modal-success" id="modal-success">

        <div class="modal-container success-content">
            <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/>
                <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
            </svg>
            <p class="success-text">¡Validación Exitosa!</p>
        </div>
    </div>

    <!-- modal error -->
    <div class="modal-base modal-error-general" id="modal-error">
        <div class="modal-container error-content-general">
            <div class="error-icon">
                <i class="fas fa-times-circle"></i>
            </div>
            <p id="errorMessageGeneral">Error de conexión con el servidor.</p>
        </div>
    </div>

    <!-- modal rutas -->
    <div class="modal-base modal-rutas" id="modal-rutas">
        <div class="modal-container modal-rutas-contenido">
            <div class="header-rutas">
                <h2 class="titulo-rutas">Rutas</h2>
            </div>
            <div class="inputs-rutas">
                <label class="label-rutas">Escoja la ruta de su preferencia</label>

                <div class="input-group-rutas">
                    <form class="form-rutas" id="formulario-rutas" action="" method="post">
                        <select name="rutas" id="rutas">
                            <option value="" data-descripcion="Seleccione una ruta para ver su recorrido">Options</option>
                            <option value="Ruta 1" data-descripcion="Tavacare - Ciudad Varyna - CC. Cima - UNELLEZ">Ruta 1</option>
                            <option value="Ruta 2" data-descripcion="Punta Gorda - Av. Nueva torunos - UNELLEZ">Ruta 2</option>
                            <option value="Ruta 3" data-descripcion="Redoma 'Negro Primero' - Av. Codazzi - UNELLEZ">Ruta 3</option>
                            <option value="Ruta 4" data-descripcion="Trigo Pan - Mijardin - Av. Nueva Barinas - Don Samuel - PDVSA - UNELLEZ">Ruta 4</option>
                            <option value="Ruta 5" data-descripcion="La Paz - Pozones - Urb. Cuatricentenaria 'calle ancha' - Centro - Av. 23 de enero - UNELLEZ">Ruta 5</option>
                        </select>
                    </form>
                    <div class="descripcion-rutas" id="descripcionRutas">
                    </div>
                </div>
                <button type="button" class="btn-ruta">Continuar</button>
            </div>
        </div>
    </div>

    <!-- MODAL DE REGISTRO -->
    <div class="modal-base modal-registro" id="modal-registro">
        <div class="modal-container register-container">

            <!-- header registro -->
            <div class="register-header">
                <div class="logo">
                    <i class="fas fa-bus"></i>
                    <h1>Transporte UNELLEZ</h1>
                </div>
                <p class="subtitle">Completar Registro de Usuario</p>
            </div>

            <!-- content registro -->
            <div class="register-content">

                <!-- Información del Usuario -->
                <div class="user-preview-card" id="userPreview">
                    <h3><i class="fas fa-user-check"></i> Información a Registrar</h3>
                    <div class="preview-content" id="previewContent">
                        <p>Cargando información del usuario...</p>
                    </div>
                </div>

                <!-- Formulario de Registro -->
                <form class="register-form" id="registerForm">
                    <h3><i class="fas fa-key"></i> Crear Credenciales de Acceso</h3>
                    
                    <div class="form-group">
                        <label for="regEmail"><i class="fas fa-envelope"></i> Correo Electrónico *</label>
                        <input type="email" id="regEmail" name="regEmail" required 
                               placeholder="Ingrese su correo">
                        <small>Necesario para recuperación de contraseña</small>

                        <br>

                        <label for="regUsername"><i class="fas fa-user"></i> Nombre de Usuario *</label>
                        <input type="text" id="regUsername" name="regUsername" required 
                            placeholder="Elija un nombre de usuario único">
                        <small>Este será su usuario para iniciar sesión</small>                        
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="regPassword"><i class="fas fa-lock"></i> Contraseña *</label>
                            <input type="password" id="regPassword" name="regPassword" required 
                                placeholder="Mínimo 6 caracteres" minlength="6">
                        </div>
                        <div class="form-group">
                            <label for="regConfirmPassword"><i class="fas fa-lock"></i> Confirmar Contraseña *</label>
                            <input type="password" id="regConfirmPassword" name="regConfirmPassword" required 
                                placeholder="Repita su contraseña">
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="cancelRegistration()">
                            <i class="fas fa-times"></i> Cancelar
                        </button>
                        <button type="button" class="btn btn-primary" onclick="enviarRegistroFinal(event)">
                            <i class="fas fa-check"></i> Completar Registro
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal de registro exitoso -->
    <div class="modal-base modal-final" id="modalSuccess">
        <div class="modal-container modal-content">
            <div class="success-icon">
                <i class="fas fa-check"></i>
            </div>
            <h2>¡Registro Exitoso!</h2>
            <p>Su cuenta ha sido creada correctamente</p>
            <div class="user-summary" id="userSummary"></div>
            <button class="btn btn-primary" onclick="goToLogin()">
                <i class="fas fa-sign-in-alt"></i> Ir al Inicio de Sesión
            </button>
        </div>
    </div>

    <!-- footer registro -->
   <footer id="main-footer" class="register-footer">
        <p>Sistema de Transporte UNELLEZ &copy; 2024</p>
        <br>
        <p>Desarrollado por Sandra Sepulveda, estudiante de Ing. Informática de la UNELLEZ-VPDS-2025</p>
    </footer>

    <script src="js/register.js"></script>
</body>
</html>